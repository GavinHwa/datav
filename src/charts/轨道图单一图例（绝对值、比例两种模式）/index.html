<!DOCTYPE html>
<!-- saved from url=(0040)http://bl.ocks.org/mbostock/raw/2368837/ -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8">
<title>column</title>
<style> </style>
<link rel="stylesheet" href="css/reset.css">
<link rel="stylesheet" href="css/track_with_single_legend.css">
</head>
<body>

<div id="legend"></div>
<div id="column" style="float: left;"></div>
<div id="column2" style="float: left;"></div>

<script src="js/jquery-1.7.1.js"></script>
<script src="js/track_with_single_legend.js"></script>
<script src="js/d3.v3.min.js"></script>

<script>
var data = [
  { name: '尼尔森零研',
    children: [
      {"name":"男", "value":8167},
      {"name":"女", "value":1492}
    ]
  },
  { name: '尼尔森电商',
    children: [
      {"name":"男", "value":167},
      {"name":"女", "value":492}
    ]
  },
  { name: '淘宝天猫',
    children: [
      {"name":"男", "value":867},
      {"name":"女", "value":192}
    ]
  }
];
/*
// no value
data = [
  { name: '尼尔森零研',
    children: [
      {"name":"男", "value":0},
      {"name":"女", "value":0}
    ]
  },
  { name: '尼尔森电商',
    children: [
      {"name":"男", "value":0},
      {"name":"女", "value":0}
    ]
  },
  { name: '淘宝天猫',
    children: [
      {"name":"男", "value":0},
      {"name":"女", "value":0}
    ]
  }
];
*/

var getColor = d3.scale.category10(); //设计稿中取色函数必须公用。

var legend = new TrackWithSingleLegend.Legend({
  container: $('#legend')[0],
  width: 800,
  height: 200,
  getColor: getColor,
  data: data[0].children.slice()
});
legend.render();

var b = new TrackWithSingleLegend({
  container: $('#column')[0],
  width: 200,
  height: 200,
  data: data.slice(),
  centerWord: '海飞丝',
  getColor: getColor
});
b.render();

var b2 = new TrackWithSingleLegend({
  container: $('#column2')[0],
  width: 400,
  height: 300,
  data: data.slice(),
  centerWord: '清扬',
  getColor: getColor
});
b2.render();

</script>
</body></html>

